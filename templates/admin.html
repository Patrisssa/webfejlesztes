<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Felület</title>
    <link rel="stylesheet" href="static/css/admin_style.css"> <!-- CSS link -->
</head>
<body class="admin-body">
    
    <div class="navbar">
        <!-- Bal oldali menü -->
        <a href="/" class="navbar-link">Könyvek</a>

        <!-- Jobb oldali menü (dinamikusan változik) -->
        {% if not current_user.is_authenticated %}
            <!-- Ha nincs bejelentkezve -->
            <a href="/login" class="navbar-link">Bejelentkezés</a>
            <a href="/register" class="navbar-link">Regisztráció</a>
        {% elif current_user.is_admin %}
            <!-- Ha be van jelentkezve és admin -->
            <a href="/admin" class="navbar-link">Admin</a>
            <a href="/profile" class="navbar-link">Profil</a>
            <a href="/logout" class="navbar-link">Kijelentkezés</a>
        {% else %}
            <!-- Ha be van jelentkezve, de nem admin -->
            <a href="/profile" class="navbar-link">Profil</a>
            <a href="/logout" class="navbar-link">Kijelentkezés</a>
        {% endif %}
    </div>

    <h1 class="admin-title">Könyvek kezelése</h1>

    <h2 class="admin-subtitle">Könyv hozzáadása</h2>
    <form class="admin-form" action="/admin" method="POST">
        <label class="admin-label" for="title">Cím:</label><br>
        <input class="admin-input" type="text" id="title" name="title" required><br><br>

        <label class="admin-label" for="author">Szerző:</label><br>
        <input class="admin-input" type="text" id="author" name="author" required><br><br>

        <label class="admin-label" for="description">Leírás:</label><br>
        <textarea class="admin-textarea" id="description" name="description"></textarea><br><br>

        <label class="admin-label" for="published_date">Kiadás dátuma:</label><br>
        <input class="admin-input" type="date" id="published_date" name="published_date" required><br><br>

        <input class="admin-submit" type="submit" value="Hozzáadás">
    </form>

    <h2 class="admin-subtitle">Létező könyvek:</h2>
    <ul class="admin-book-list">
        {% for book in books %}
        <li class="admin-book-item">
            <strong class="admin-book-title">{{ book.title }}</strong> 
            by <span class="admin-book-author">{{ book.author }}</span> - 
            <span class="admin-book-date">{{ book.published_date.strftime('%Y-%m-%d') }}</span>
            <a class="admin-edit-link" href="{{ url_for('admin.edit_book', id=book.id) }}">Szerkesztés</a>
            <a class="admin-delete-link" href="{{ url_for('admin.delete_book', id=book.id) }}" onclick="return confirm('Biztosan törölni szeretnéd?')">Törlés</a>
        </li>
        {% endfor %}
    </ul>
</body>
</html>
